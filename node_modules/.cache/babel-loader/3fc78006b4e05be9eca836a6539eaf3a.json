{"ast":null,"code":"import _classCallCheck from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Ink from'../components/Ink';import StaticProfile from'../components/StaticProfile';import Grid from'@material-ui/core/Grid';import InkSkeleton from'../util/InkSkeleton';import ProfileSkeleton from'../util/ProfileSkeleton';import{connect}from'react-redux';import{getUserData}from'../redux/actions/dataActions';import'../components/Ink.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var user=/*#__PURE__*/function(_Component){_inherits(user,_Component);var _super=_createSuper(user);function user(){var _this;_classCallCheck(this,user);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={profile:null,inkIdParam:null};return _this;}_createClass(user,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var handle=this.props.match.params.handle;var inkId=this.props.match.params.inkId;if(inkId)this.setState({inkIdParam:inkId});this.props.getUserData(handle);axios.get(\"/user/\".concat(handle)).then(function(res){_this2.setState({profile:res.data.user});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this$props$data=this.props.data,inks=_this$props$data.inks,loading=_this$props$data.loading;var inkIdParam=this.state.inkIdParam;var inksMarkup=loading?/*#__PURE__*/_jsx(InkSkeleton,{}):inks===null?/*#__PURE__*/_jsx(\"p\",{children:\"No inks from this user\"}):!inkIdParam?inks.map(function(ink){return/*#__PURE__*/_jsx(Ink,{ink:ink},ink.inkId);}):inks.map(function(ink){if(ink.inkId!==inkIdParam)return/*#__PURE__*/_jsx(Ink,{ink:ink},ink.inkId);else return/*#__PURE__*/_jsx(Ink,{ink:ink,openDialog:true},ink.inkId);});return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:16,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:8,xs:12,children:inksMarkup}),/*#__PURE__*/_jsx(Grid,{item:true,sm:4,xs:12,children:this.state.profile===null?/*#__PURE__*/_jsx(ProfileSkeleton,{}):/*#__PURE__*/_jsx(StaticProfile,{profile:this.state.profile})})]});}}]);return user;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getUserData:getUserData})(user);","map":{"version":3,"sources":["/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/src/pages/user.js"],"names":["React","Component","axios","Ink","StaticProfile","Grid","InkSkeleton","ProfileSkeleton","connect","getUserData","user","state","profile","inkIdParam","handle","props","match","params","inkId","setState","get","then","res","data","catch","err","console","log","inks","loading","inksMarkup","map","ink","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport Ink from '../components/Ink';\nimport StaticProfile from '../components/StaticProfile';\nimport Grid from '@material-ui/core/Grid';\n\nimport InkSkeleton from '../util/InkSkeleton';\nimport ProfileSkeleton from '../util/ProfileSkeleton';\n\nimport { connect } from 'react-redux';\nimport { getUserData } from '../redux/actions/dataActions';\nimport '../components/Ink.css';\n\nclass user extends Component {\n  state = {\n    profile: null,\n    inkIdParam: null\n  };\n  componentDidMount() {\n    const handle = this.props.match.params.handle;\n    const inkId = this.props.match.params.inkId;\n\n    if (inkId) this.setState({ inkIdParam: inkId });\n\n    this.props.getUserData(handle);\n    axios\n      .get(`/user/${handle}`)\n      .then((res) => {\n        this.setState({\n          profile: res.data.user\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n  render() {\n    const { inks, loading } = this.props.data;\n    const { inkIdParam } = this.state;\n\n    const inksMarkup = loading ? (\n      <InkSkeleton />\n    ) : inks === null ? (\n      <p>No inks from this user</p>\n    ) : !inkIdParam ? (\n      inks.map((ink) => <Ink key={ink.inkId} ink={ink} />)\n    ) : (\n      inks.map((ink) => {\n        if (ink.inkId !== inkIdParam)\n          return <Ink key={ink.inkId} ink={ink} />;\n        else return <Ink key={ink.inkId} ink={ink} openDialog />;\n      })\n    );\n\n    return (\n      <Grid container spacing={16}>\n        <Grid item sm={8} xs={12}>\n          {inksMarkup}\n        </Grid>\n        <Grid item sm={4} xs={12}>\n          {this.state.profile === null ? (\n            <ProfileSkeleton />\n          ) : (\n            <StaticProfile profile={this.state.profile} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nuser.propTypes = {\n  getUserData: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  data: state.data\n});\n\nexport default connect(\n  mapStateToProps,\n  { getUserData }\n)(user);"]},"metadata":{},"sourceType":"module"}