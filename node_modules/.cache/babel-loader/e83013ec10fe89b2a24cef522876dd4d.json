{"ast":null,"code":"/* eslint-disable */import{SET_INKS,LOADING_DATA,LIKE_INK,UNLIKE_INK,DELETE_INK,SET_ERRORS,POST_INK,CLEAR_ERRORS,LOADING_UI,SET_INK,STOP_LOADING_UI,SUBMIT_COMMENT}from'../types';import axios from'axios';export var getInks=function getInks(){return function(dispatch){dispatch({type:LOADING_DATA});axios.get('/inks').then(function(res){dispatch({type:SET_INKS,payload:res.data});}).catch(function(err){dispatch({type:SET_INKS,payload:[]});});};};export var getInk=function getInk(inkId){return function(dispatch){dispatch({type:LOADING_UI});axios.get(\"/ink/\".concat(inkId)).then(function(res){dispatch({type:SET_INK,payload:res.data});dispatch({type:STOP_LOADING_UI});}).catch(function(err){return console.log(err);});};};// Post a ink\nexport var postInk=function postInk(newInk){return function(dispatch){dispatch({type:LOADING_UI});axios.post('/ink',newInk).then(function(res){dispatch({type:POST_INK,payload:res.data});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};// Like a ink\nexport var likeInk=function likeInk(inkId){return function(dispatch){axios.get(\"/ink/\".concat(inkId,\"/like\")).then(function(res){dispatch({type:LIKE_INK,payload:res.data});}).catch(function(err){return console.log(err);});};};// Unlike a ink\nexport var unlikeInk=function unlikeInk(inkId){return function(dispatch){axios.get(\"/ink/\".concat(inkId,\"/unlike\")).then(function(res){dispatch({type:UNLIKE_INK,payload:res.data});}).catch(function(err){return console.log(err);});};};// Submit a comment\nexport var submitComment=function submitComment(inkId,commentData){return function(dispatch){axios.post(\"/ink/\".concat(inkId,\"/comment\"),commentData).then(function(res){dispatch({type:SUBMIT_COMMENT,payload:res.data});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};export var deleteInk=function deleteInk(inkId){return function(dispatch){axios.delete(\"/ink/\".concat(inkId)).then(function(){dispatch({type:DELETE_INK,payload:inkId});}).catch(function(err){return console.log(err);});};};export var getUserData=function getUserData(userHandle){return function(dispatch){dispatch({type:LOADING_DATA});axios.get(\"/user/\".concat(userHandle)).then(function(res){dispatch({type:SET_INKS,payload:res.data.inks});}).catch(function(){dispatch({type:SET_INKS,payload:null});});};};export var clearErrors=function clearErrors(){return function(dispatch){dispatch({type:CLEAR_ERRORS});};};export var uploadInkImage=function uploadInkImage(formData,inkId){return function(dispatch){dispatch({type:LOADING_DATA});axios.post(\"/ink/\".concat(inkId),formData).then(function(res){console.log(\"ink image changed\");dispatch({type:POST_INK,payload:res.data});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};","map":{"version":3,"sources":["/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/src/redux/actions/dataActions.js"],"names":["SET_INKS","LOADING_DATA","LIKE_INK","UNLIKE_INK","DELETE_INK","SET_ERRORS","POST_INK","CLEAR_ERRORS","LOADING_UI","SET_INK","STOP_LOADING_UI","SUBMIT_COMMENT","axios","getInks","dispatch","type","get","then","res","payload","data","catch","err","getInk","inkId","console","log","postInk","newInk","post","clearErrors","response","likeInk","unlikeInk","submitComment","commentData","deleteInk","delete","getUserData","userHandle","inks","uploadInkImage","formData"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport {\n\tSET_INKS,\n\tLOADING_DATA,\n\tLIKE_INK,\n\tUNLIKE_INK,\n\tDELETE_INK,\n\tSET_ERRORS,\n\tPOST_INK,\n\tCLEAR_ERRORS,\n\tLOADING_UI,\n\tSET_INK,\n\tSTOP_LOADING_UI,\n\tSUBMIT_COMMENT\n} from '../types';\n\nimport axios from 'axios';\n\nexport const getInks = () => (dispatch) => {\n\tdispatch({ type: LOADING_DATA });\n\taxios\n\t\t.get('/inks')\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_INKS,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_INKS,\n\t\t\t\tpayload: []\n\t\t\t});\n\t\t});\n};\n\nexport const getInk = (inkId) => (dispatch) => {\n\tdispatch({ type: LOADING_UI });\n\taxios\n\t\t.get(`/ink/${inkId}`)\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_INK,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t\tdispatch({ type: STOP_LOADING_UI });\n\t\t})\n\t\t.catch((err) => console.log(err));\n};\n\n// Post a ink\nexport const postInk = (newInk) => (dispatch) => {\n\tdispatch({ type: LOADING_UI });\n\taxios\n\t\t.post('/ink', newInk)\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: POST_INK,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t\tdispatch(clearErrors());\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_ERRORS,\n\t\t\t\tpayload: err.response.data\n\t\t\t});\n\t\t});\n};\n\n// Like a ink\nexport const likeInk = (inkId) => (dispatch) => {\n\taxios\n\t\t.get(`/ink/${inkId}/like`)\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: LIKE_INK,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t})\n\t\t.catch((err) => console.log(err));\n};\n\n// Unlike a ink\nexport const unlikeInk = (inkId) => (dispatch) => {\n\taxios\n\t\t.get(`/ink/${inkId}/unlike`)\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: UNLIKE_INK,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t})\n\t\t.catch((err) => console.log(err));\n};\n\n// Submit a comment\nexport const submitComment = (inkId, commentData) => (dispatch) => {\n\taxios\n\t\t.post(`/ink/${inkId}/comment`, commentData)\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SUBMIT_COMMENT,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t\tdispatch(clearErrors());\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_ERRORS,\n\t\t\t\tpayload: err.response.data\n\t\t\t});\n\t\t});\n};\n\nexport const deleteInk = (inkId) => (dispatch) => {\n\taxios\n\t\t.delete(`/ink/${inkId}`)\n\t\t.then(() => {\n\t\t\tdispatch({ type: DELETE_INK, payload: inkId });\n\t\t})\n\t\t.catch((err) => console.log(err));\n};\n\nexport const getUserData = (userHandle) => (dispatch) => {\n\tdispatch({ type: LOADING_DATA });\n\taxios\n\t\t.get(`/user/${userHandle}`)\n\t\t.then((res) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_INKS,\n\t\t\t\tpayload: res.data.inks\n\t\t\t});\n\t\t})\n\t\t.catch(() => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_INKS,\n\t\t\t\tpayload: null\n\t\t\t});\n\t\t});\n};\n\nexport const clearErrors = () => (dispatch) => {\n\tdispatch({ type: CLEAR_ERRORS });\n};\n\nexport const uploadInkImage = (formData,inkId) => (dispatch) => {\n  dispatch({ type: LOADING_DATA });\n  axios\n    .post(`/ink/${inkId}`, formData)\n    .then((res) => {\n\t\tconsole.log(\"ink image changed\")\n\t\t\tdispatch({\n\t\t\t\ttype: POST_INK,\n\t\t\t\tpayload: res.data\n\t\t\t});\n\t\t\tdispatch(clearErrors());\n\t\t})\n\t\t.catch((err) => {\n\t\t\tdispatch({\n\t\t\t\ttype: SET_ERRORS,\n\t\t\t\tpayload: err.response.data\n\t\t\t});\n\t\t});\n};"]},"metadata":{},"sourceType":"module"}