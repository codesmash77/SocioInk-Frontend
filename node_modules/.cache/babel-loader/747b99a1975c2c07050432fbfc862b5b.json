{"ast":null,"code":"import _classCallCheck from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable */import React,{Component}from'react';import{Link}from'react-router-dom';import'./Ink.css';import dayjs from'dayjs';import relativeTime from'dayjs/plugin/relativeTime';import PropTypes from'prop-types';import MyButton from'../util/MyButton';import DeleteInk from'../Inks/DeleteInk';import InkDialog from'../Inks/InkDialog';import LikeButton from'../Inks/LikeButton';import Card from'@material-ui/core/Card';import CardHeader from'@material-ui/core/CardHeader';import CardMedia from'@material-ui/core/CardMedia';import CardContent from'@material-ui/core/CardContent';import Typography from'@material-ui/core/Typography';import Avatar from'@material-ui/core/Avatar';// Icons\nimport ChatIcon from'@material-ui/icons/Chat';import EditIcon from'@material-ui/icons/Edit';// Redux\nimport{connect}from'react-redux';import{uploadInkImage}from'../redux/actions/dataActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ink=/*#__PURE__*/function(_Component){_inherits(Ink,_Component);var _super=_createSuper(Ink);function Ink(){var _this;_classCallCheck(this,Ink);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleImageChange=function(event){var image=event.target.files[0];var formData=new FormData();formData.append('image',image,image.name);if(_this.props.ink.inkId)_this.props.uploadInkImage(formData,_this.props.ink.inkId);else console.log(\"no inkid\");};_this.handleEditPicture=function(){var fileInput=document.getElementById('imageInput');fileInput.click();};return _this;}_createClass(Ink,[{key:\"render\",value:function render(){dayjs.extend(relativeTime);var _this$props=this.props,_this$props$ink=_this$props.ink,body=_this$props$ink.body,createdAt=_this$props$ink.createdAt,userHandle=_this$props$ink.userHandle,userImage=_this$props$ink.userImage,inkImage=_this$props$ink.inkImage,inkId=_this$props$ink.inkId,likeCount=_this$props$ink.likeCount,commentCount=_this$props$ink.commentCount,_this$props$user=_this$props.user,handle=_this$props$user.credentials.handle,authenticated=_this$props$user.authenticated;var deleteButton=authenticated&&userHandle===handle?/*#__PURE__*/_jsx(DeleteInk,{inkId:inkId}):null;return/*#__PURE__*/_jsxs(Card,{className:\"card\",children:[/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(Avatar,{alt:userHandle,src:userImage,className:\"avatar\"}),title:/*#__PURE__*/_jsx(\"a\",{className:\"handle\",children:userHandle}),subheader:dayjs(createdAt).fromNow(),component:Link,to:\"/users/\".concat(userHandle),children:userHandle}),deleteButton,/*#__PURE__*/_jsx(CardMedia,{image:inkImage,title:\"Ink Image\",className:\"inkImage\"}),/*#__PURE__*/_jsxs(MyButton,{tip:\"Edit Ink picture\",btnClassName:\"button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"imageInput\",onChange:this.handleImageChange}),/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:\"content\",children:body}),/*#__PURE__*/_jsx(LikeButton,{inkId:inkId}),/*#__PURE__*/_jsxs(\"span\",{children:[likeCount,\" Likes\"]}),/*#__PURE__*/_jsx(MyButton,{tip:\"comments\",children:/*#__PURE__*/_jsx(ChatIcon,{color:\"primary\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[commentCount,\" comments\"]}),/*#__PURE__*/_jsx(InkDialog,{inkId:inkId,userHandle:userHandle,openDialog:this.props.openDialog})]})]});}}]);return Ink;}(Component);var mapActionsToProps={uploadInkImage:uploadInkImage};var mapStateToProps=function mapStateToProps(state){return{uploadInkImage:PropTypes.func.isRequired,user:state.user};};export default connect(mapStateToProps,mapActionsToProps)(Ink);","map":{"version":3,"sources":["/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/src/components/Ink.js"],"names":["React","Component","Link","dayjs","relativeTime","PropTypes","MyButton","DeleteInk","InkDialog","LikeButton","Card","CardHeader","CardMedia","CardContent","Typography","Avatar","ChatIcon","EditIcon","connect","uploadInkImage","Ink","handleImageChange","event","image","target","files","formData","FormData","append","name","props","ink","inkId","console","log","handleEditPicture","fileInput","document","getElementById","click","extend","body","createdAt","userHandle","userImage","inkImage","likeCount","commentCount","user","handle","credentials","authenticated","deleteButton","fromNow","openDialog","mapActionsToProps","mapStateToProps","state","func","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Ink.css';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport PropTypes from 'prop-types';\nimport MyButton from '../util/MyButton';\nimport DeleteInk from '../Inks/DeleteInk';\nimport InkDialog from '../Inks/InkDialog';\nimport LikeButton from '../Inks/LikeButton';\n\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\n// Icons\nimport ChatIcon from '@material-ui/icons/Chat';\nimport EditIcon from '@material-ui/icons/Edit';\n// Redux\nimport { connect } from 'react-redux';\nimport { uploadInkImage } from '../redux/actions/dataActions';\n\nclass Ink extends Component {\n\thandleImageChange = (event) => {\n\t\tconst image = event.target.files[0];\n\t\tconst formData = new FormData();\n\t\tformData.append('image', image, image.name);\n\t\tif(this.props.ink.inkId)\n\t\tthis.props.uploadInkImage(formData,this.props.ink.inkId);\n\t\telse console.log(\"no inkid\");\n\t};\n\n\thandleEditPicture = () => {\n\t\tconst fileInput = document.getElementById('imageInput');\n\t\tfileInput.click();\n\t};\n\trender() {\n\t\tdayjs.extend(relativeTime);\n\t\tconst {\n\t\t\tink: { body, createdAt, userHandle, userImage, inkImage, inkId, likeCount, commentCount },\n\t\t\tuser: { credentials: { handle } , authenticated},\n\t\t} = this.props;\n\n\t\tconst deleteButton = authenticated && userHandle === handle ? <DeleteInk inkId={inkId} /> : null;\n\n\t\treturn (\n\t\t\t<Card className=\"card\">\n\t\t\t\t<CardHeader\n\t\t\t\t\tavatar={<Avatar alt={userHandle} src={userImage} className=\"avatar\" />}\n\t\t\t\t\ttitle={<a className=\"handle\">{userHandle}</a>}\n\t\t\t\t\tsubheader={dayjs(createdAt).fromNow()}\n\t\t\t\t\tcomponent={Link}\n\t\t\t\t\tto={`/users/${userHandle}`}\n\t\t\t\t>\n\t\t\t\t\t{userHandle}\n\t\t\t\t</CardHeader>\n\t\t\t\t{deleteButton}\n\t\t\t\t<CardMedia image={inkImage} title=\"Ink Image\" className=\"inkImage\" />\n\t\t\t\t<MyButton tip=\"Edit Ink picture\"  btnClassName=\"button\">\n\t\t\t\t\t<input type=\"file\" id=\"imageInput\" onChange={this.handleImageChange} />\n\t\t\t\t\t<EditIcon color=\"primary\" />\n\t\t\t\t</MyButton>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography variant=\"body1\" className=\"content\">\n\t\t\t\t\t\t{body}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<LikeButton inkId={inkId} />\n\t\t\t\t\t<span>{likeCount} Likes</span>\n\t\t\t\t\t<MyButton tip=\"comments\">\n\t\t\t\t\t\t<ChatIcon color=\"primary\" />\n\t\t\t\t\t</MyButton>\n\t\t\t\t\t<span>{commentCount} comments</span>\n\t\t\t\t\t<InkDialog inkId={inkId} userHandle={userHandle} openDialog={this.props.openDialog} />\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nInk.propTypes = {\n\tuser: PropTypes.object.isRequired,\n\tink: PropTypes.object.isRequired,\n\topenDialog: PropTypes.bool\n};\n\nconst mapActionsToProps = { uploadInkImage };\n\n\nconst mapStateToProps = (state) => ({\n\tuploadInkImage: PropTypes.func.isRequired,\n\tuser: state.user\n});\n\nexport default connect(mapStateToProps, mapActionsToProps)(Ink);\n"]},"metadata":{},"sourceType":"module"}