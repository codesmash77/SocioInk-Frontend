{"ast":null,"code":"import _classCallCheck from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable */import React,{Component,Fragment}from'react';import{createTheme,ThemeProvider}from'@material-ui/core/styles';import themeObject from'../util/theme';import'./Ink.css';import EditDetails from'./EditDetails';import MyButton from'../util/MyButton';import ProfileSkeleton from'../util/ProfileSkeleton';import{Link}from'react-router-dom';import dayjs from'dayjs';// MUI stuff\nimport Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import MuiLink from'@material-ui/core/Link';import Paper from'@material-ui/core/Paper';// Icons\nimport LocationOn from'@material-ui/icons/LocationOn';import LinkIcon from'@material-ui/icons/Link';import CalendarToday from'@material-ui/icons/CalendarToday';import EditIcon from'@material-ui/icons/Edit';import KeyboardReturn from'@material-ui/icons/KeyboardReturn';//Redux\nimport{connect}from'react-redux';import{logoutUser,uploadImage}from'../redux/actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var theme=createTheme(themeObject);var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleImageChange=function(event){var image=event.target.files[0];var formData=new FormData();formData.append('image',image,image.name);if(event.target.files[0])console.log('yes');_this.props.uploadImage(formData);};_this.handleEditPicture=function(){var fileInput=document.getElementById('imageInput');fileInput.click();};_this.handleLogout=function(){_this.props.logoutUser();};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var _this$props$user=this.props.user,_this$props$user$cred=_this$props$user.credentials,handle=_this$props$user$cred.handle,createdAt=_this$props$user$cred.createdAt,imageUrl=_this$props$user$cred.imageUrl,bio=_this$props$user$cred.bio,website=_this$props$user$cred.website,location=_this$props$user$cred.location,loading=_this$props$user.loading,authenticated=_this$props$user.authenticated;var ProfileMarkUp=!loading?authenticated?/*#__PURE__*/_jsx(Paper,{className:\"paper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"profile\",className:\"profileimage\"}),/*#__PURE__*/_jsxs(MyButton,{tip:\"Edit profile picture\",btnClassName:\"button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"imageInput\",display:\"none\",onChange:this.handleImageChange}),/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",children:[/*#__PURE__*/_jsxs(MuiLink,{component:Link,to:\"/users/\".concat(handle),color:\"primary\",variant:\"h5\",children:[\"@\",handle]}),/*#__PURE__*/_jsx(\"hr\",{}),bio&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"justify\",className:\"bio\",children:bio}),/*#__PURE__*/_jsx(\"hr\",{}),location&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(LocationOn,{color:\"primary\"}),' ',/*#__PURE__*/_jsxs(\"span\",{children:['   ',location]}),/*#__PURE__*/_jsx(\"hr\",{})]}),website&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(LinkIcon,{color:\"primary\"}),/*#__PURE__*/_jsxs(\"a\",{href:website,target:\"_blank\",rel:\"noopener noreferrer\",children:['   ',website]}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(CalendarToday,{color:\"primary\"}),' ',/*#__PURE__*/_jsxs(\"span\",{children:[\"Joined \",'   ',dayjs(createdAt).format('MMM YYYY')]})]}),/*#__PURE__*/_jsx(MyButton,{tip:\"Logout\",onClick:this.handleLogout,children:/*#__PURE__*/_jsx(KeyboardReturn,{color:\"primary\"})}),/*#__PURE__*/_jsx(EditDetails,{})]})}):/*#__PURE__*/_jsxs(Paper,{className:\"paper\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",align:\"center\",children:\"No profile found, please login again\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",component:Link,to:\"/signup\",children:\"Signup\"})]})]}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(ProfileSkeleton,{}),/*#__PURE__*/_jsx(MyButton,{tip:\"Log In\",onClick:this.handleLogout,children:/*#__PURE__*/_jsx(KeyboardReturn,{color:\"primary\"})})]});return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:ProfileMarkUp});}}]);return Profile;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={logoutUser:logoutUser,uploadImage:uploadImage};export default connect(mapStateToProps,mapActionsToProps)(Profile);","map":{"version":3,"sources":["/mnt/c/Users/gokul/Desktop/React Lane/socialink-client/src/components/Profile.js"],"names":["React","Component","Fragment","createTheme","ThemeProvider","themeObject","EditDetails","MyButton","ProfileSkeleton","Link","dayjs","Button","Typography","MuiLink","Paper","LocationOn","LinkIcon","CalendarToday","EditIcon","KeyboardReturn","connect","logoutUser","uploadImage","theme","Profile","handleImageChange","event","image","target","files","formData","FormData","append","name","console","log","props","handleEditPicture","fileInput","document","getElementById","click","handleLogout","user","credentials","handle","createdAt","imageUrl","bio","website","location","loading","authenticated","ProfileMarkUp","format","mapStateToProps","state","mapActionsToProps"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\nimport themeObject from '../util/theme';\nimport './Ink.css';\n\nimport EditDetails from './EditDetails';\nimport MyButton from '../util/MyButton';\nimport ProfileSkeleton from '../util/ProfileSkeleton';\n\nimport { Link } from 'react-router-dom';\nimport dayjs from 'dayjs';\n\n// MUI stuff\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport MuiLink from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\n\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from '@material-ui/icons/Edit';\nimport KeyboardReturn from '@material-ui/icons/KeyboardReturn';\n//Redux\nimport { connect } from 'react-redux';\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\n\nconst theme = createTheme(themeObject);\n\nclass Profile extends Component {\n\thandleImageChange = (event) => {\n\t\tconst image = event.target.files[0];\n\t\tconst formData = new FormData();\n\t\tformData.append('image', image, image.name);\n\t\tif (event.target.files[0]) console.log('yes');\n\t\tthis.props.uploadImage(formData);\n\t};\n\n\thandleEditPicture = () => {\n\t\tconst fileInput = document.getElementById('imageInput');\n\t\tfileInput.click();\n\t};\n\n\thandleLogout = () => {\n\t\tthis.props.logoutUser();\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tuser: { credentials: { handle, createdAt, imageUrl, bio, website, location }, loading, authenticated }\n\t\t} = this.props;\n\t\tlet ProfileMarkUp = !loading ? authenticated ? (\n\t\t\t<Paper className=\"paper\">\n\t\t\t\t<div className=\"profile\">\n\t\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t\t<img src={imageUrl} alt=\"profile\" className=\"profileimage\" />\n\t\t\t\t\t\t<MyButton tip=\"Edit profile picture\"  btnClassName=\"button\">\n\t\t\t\t\t\t\t<input type=\"file\" id=\"imageInput\"  display=\"none\" onChange={this.handleImageChange} />\n\t\t\t\t\t\t\t<EditIcon color=\"primary\" />\n\t\t\t\t\t\t</MyButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className=\"profile-details\">\n\t\t\t\t\t\t<MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n\t\t\t\t\t\t\t@{handle}\n\t\t\t\t\t\t</MuiLink>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{bio && (\n\t\t\t\t\t\t\t<Typography variant=\"body1\" align=\"justify\" className=\"bio\">\n\t\t\t\t\t\t\t\t{bio}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{location && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<LocationOn color=\"primary\" />{' '}\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{'   '}\n\t\t\t\t\t\t\t\t\t{location}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{website && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<LinkIcon color=\"primary\" />\n\t\t\t\t\t\t\t\t<a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t{'   '}\n\t\t\t\t\t\t\t\t\t{website}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<CalendarToday color=\"primary\" />{' '}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tJoined {'   '}\n\t\t\t\t\t\t\t{dayjs(createdAt).format('MMM YYYY')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<MyButton tip=\"Logout\" onClick={this.handleLogout}>\n\t\t\t\t\t\t<KeyboardReturn color=\"primary\" />\n\t\t\t\t\t</MyButton>\n\t\t\t\t\t<EditDetails />\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t) : (\n\t\t\t<Paper className=\"paper\">\n\t\t\t\t<Typography variant=\"body2\" align=\"center\">\n\t\t\t\t\tNo profile found, please login again\n\t\t\t\t</Typography>\n\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" component={Link} to=\"/login\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" component={Link} to=\"/signup\">\n\t\t\t\t\t\tSignup\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t) : (\n\t\t\t<Fragment>\n\t\t\t\t<ProfileSkeleton />\n\t\t\t\t<MyButton tip=\"Log In\" onClick={this.handleLogout}>\n\t\t\t\t\t<KeyboardReturn color=\"primary\" />\n\t\t\t\t</MyButton>\n\t\t\t</Fragment>\n\t\t);\n\n\t\treturn <ThemeProvider theme={theme}>{ProfileMarkUp}</ThemeProvider>;\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tuser: state.user\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nProfile.propTypes = {\n\tlogoutUser: PropTypes.func.isRequired,\n\tuploadImage: PropTypes.func.isRequired,\n\tuser: PropTypes.object.isRequired,\n\tclasses: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}